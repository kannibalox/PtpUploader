=====================================================================================================================================================
Quick installation
=====================================================================================================================================================

Run these commands from Linux's shell. (Most likely you have to use PuTTY.)

svn checkout http://ptpuploader.googlecode.com/svn/trunk/src/ PTP
cd PTP

wget --no-check-certificate https://github.com/pypa/virtualenv/raw/master/virtualenv.py
python virtualenv.py -v --distribute MyEnv

MyEnv/bin/easy_install simplejson
MyEnv/bin/easy_install poster
MyEnv/bin/easy_install pyrobase
MyEnv/bin/easy_install pyrocore
MyEnv/bin/easy_install --upgrade sqlalchemy
MyEnv/bin/easy_install cherrypy==3.1.2
MyEnv/bin/easy_install flask
MyEnv/bin/pyroadmin --create-config

mkdir WorkingDirectory
cp PtpUploader/Settings.example.ini PtpUploader/Settings.ini

Edit and fill out the details in PtpUploader/Settings.ini.

See the "Starting PtpUploader in the background" section for how to start it.

=====================================================================================================================================================
Installation details
=====================================================================================================================================================

PtpUploader needs Python. Only version 2.5 and 2.6 are supported because of pyWHATauto.

Depends on the following Python packages:
	- CherryPy: http://www.cherrypy.org/
		- 3.2.0 is buggy, use 3.1.2 instead. Install like this: easy_install cherrypy==3.1.2
	- Flask: http://flask.pocoo.org/
	- poster: http://atlee.ca/software/poster/
	- PyroScope: http://code.google.com/p/pyroscope/
	- simplejson: http://undefined.org/python/#simplejson
		- Because Python 2.5 doesn't have the json module.
	- SQLAlchemy: http://www.sqlalchemy.org/

If you don't have root acces, use virtualenv ( http://pypi.python.org/pypi/virtualenv ) to install the required Python packages.

Required programs:
	- MediaInfo: http://mediainfo.sourceforge.net/
	- mktorrent: http://mktorrent.sourceforge.net/
	- unrar: http://www.rarlab.com/rar_add.htm

One of them is required:
	- ffmpeg: http://www.ffmpeg.org/
	- MPlayer: http://www.mplayerhq.hu/

Optional programs:
	- FlexGet: http://flexget.com/
	- ImageMagick (for JPG making with ffmpeg): http://www.imagemagick.org/
	- pyWHATauto: http://whatscripts.com/

=====================================================================================================================================================
Extracting PtpUploader
=====================================================================================================================================================

Recommended directory structure:
	- PTP
		- FlexGet
		- PtpUploader
		- pyWHATauto
	- WorkingDirectory

The easiest way is to get the source straight from Subversion:
svn checkout http://ptpuploader.googlecode.com/svn/trunk/src/ /path to your PTP directory/

=====================================================================================================================================================
Configuring PyroScope
=====================================================================================================================================================

Simply run the following:
pyroadmin --create-config

=====================================================================================================================================================
Configuring PtpUploader
=====================================================================================================================================================

Copy PtpUploader/Settings.example.ini to Settings.ini and edit the latter.

=====================================================================================================================================================
Configuring pyWHATauto (optional)
=====================================================================================================================================================

This is optional and can be used for GFT, SCC and TL. The steps here are for GFT.

	- Make sure that on your control panel on GFT the #GFTracker-spam channel is checked.
	- Copy every .confg file from pyWHATauto/config_example/ to pyWHATauto/
	- in pyWHATauto/setup.conf
		- edit torrentDir
			- it is not used not for anything, so you can simply point to a temporary folder
		- edit drive
		- under [sites] enable thegft
	- in pyWHATauto/credentials.conf
		- edit the following keys under [thegft]
			- nickowner
				- register a virtual host yourself on GFT's IRC network and set your host address here
			- username
			- botnick
			- nickservpass
			- irckey
				- The IRC password that you set at your control panel on GFT.
			- cmd
				- Replace YourBotName with the name that you set to botnick.
	- Starting pyWHATauto in the background:
		- from command line: screen -S pywa MyEnv/bin/python /path to pyWHATauto/PtpUploaderIrcBot.py /path to WorkingDirectory/
		- Use Ctrl+A, D to disconnect from screen. You can use "screen -r PtpUploader" from command line to reconnect.

Please note that SCC works a bit differently. pyWHATauto can't automatically join its announcement channel.
You either use the Invite button on their IRC page.
Or set the SceneAccessIrcEnabled property to yes in Settings.ini and then PtpUploader will do the inviting upon starting.

=====================================================================================================================================================
Configuring FlexGet (optional)
=====================================================================================================================================================

Copy FlexGet/config.example.yml to config.yml.
Make sure you change the path of the working directory in the config file.
FlexGet needs to run periodically to update the RSS feeds.
See FlexGet's documentation for details: http://flexget.com/wiki/InstallWizard/Linux/NoRoot/Virtualenv/Scheduling

=====================================================================================================================================================
Making sure UTF-8 character encoding is set (optional)
=====================================================================================================================================================

If you want to upload releases with accented characters you have to configure your
environment because in some Linux distributions character encoding is not set by default.

In ~/.profile or ~/.bash_profile set the following:
export LANG=en_US.UTF-8
export LOCALE=UTF-8

Entering this command in your terminal should print out an Euro sign (€):
echo -e '\xe2\x82\xac'

=====================================================================================================================================================
Starting PtpUploader in the background
=====================================================================================================================================================

screen -S PtpUploader MyEnv/bin/python /path to PtpUploader/Main.py

Use Ctrl+A, D to disconnect from screen. You can use "screen -r PtpUploader" to reconnect.